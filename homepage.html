<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NexusHomepage</title>
    <link rel="stylesheet" href="homepage.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
</head>

<body>

<!--------- Top Navigations --------->

<div class="navi">
    <div class="topnav">
        <div><i class="fa-solid fa-envelope" id="envelope"></i><a href="#">nexusmanufacture@email.com</a></div>
        <div><i class="fa-solid fa-phone" id="phone"></i><a href="#">+6392-345-6789</a></div>
        <div><i class="fa-solid fa-user" id="profileicon"></i><a href="#" onclick="openLoginModal()">Log In or Sign Up</a></div>
        <div><i class="fa-solid fa-cart-shopping" id="carticon"></i><a href="CartPage.html">CART</a></div>
    </div>
    
    <div class="secnav">
        <img class="icon" src="sia/nexuscon.png" alt="nexuscon" width="70" height="70">
        <div><a href="homepage.html">HOME</a></div>
            <div><a href="news_page.html">NEWS</a></div>
            <div><a href="category.html">CATEGORY</a></div>
            <div><a href="#">SERVICE</a></div>
            <div><a href="item_shop.html">ITEMS</a></div>
            <div><a href="AboutUs.html">ABOUT US</a></div>
            <div><input type="text" placeholder="Search.."></div> 
            <div>
                <i class="fa-solid fa-magnifying-glass" id="glass"></i>
            </div>
    </div>
</div>

		
<!--------- Home page --------->

<section class="home" id="home">
    <div class="content">
        <h2>NEXUS MANUFACTURE</h2>
        <h3>Pioneering Excellence, Powering Journeys</h3> 
    </div>
</section>
	
<!--------- Overview page --------->

<section class="overview" id="overview">
    <div class="ov-content">
        <h4>Automotive Evolution</h4>
        <p>We explore the rapidly evolving world of automobiles, from the rise of electric vehicles and autonomous driving to groundbreaking design and sustainability initiatives. Discover how cutting-edge technology is reshaping the driving experience, ushering in a new era of efficiency, safety, and environmental consciousness.</p>
    </div>
    <div class="ov-photo-container">
        <img src="sia/redcar.jpg" alt="Automotive Photo">
    </div>
</section>
	
<!--------- Find your dream car page --------->

<section class="dreamcar" id="dreamcar">
    <div class="find-dc">
        <h3>Find Your Dream Car</h3>
    </div>

    <div class="main-container">
        <div class="container-wrapper">
            <button class="toggle-button" id="usedButton">USED</button>
            <button class="toggle-button used" id="newButton">NEW</button>
        </div>

        <div class="left-container" id="usedContainer">
            <div class="by-options-container">
                <div class="option-container">
                    <button class="toggle-option-button" id="byBrandUsed">By Brand</button>
                    <button class="toggle-option-button" id="byBudgetUsed">By Budget</button>

                    <div class="by-brand-options-used left-container-options" style="display: none;">
                        <label for="leftBrandUsed">Select Brand:</label>
                        <select id="leftBrandUsed" name="leftBrandUsed">
                            <option value="brand1">Toyota</option>
                            <option value="brand2">Honda</option>
                            <option value="brand3">BMW</option>
                        </select>
                        <label for="leftCategoryUsed">Select Category:</label>
                        <select id="leftCategoryUsed" name="leftCategoryUsed">
                            <option value="option1">Car</option>
                            <option value="option2">Motorcycle</option>
                            <option value="option3">Truck</option>
                        </select>
                    </div>
                    <div class="by-budget-options-used right-container-options" style="display: none;">
                        <label for="leftBudgetUsed">Select Budget:</label>
                        <select id="leftBudgetUsed" name="leftBudgetUsed">
                            <option value="budget1">Economy Range</option>
                            <option value="budget2">Mid-Range</option>
                            <option value="budget3">Luxury Range</option>
                        </select>
                        <label for="rightCategoryUsed">Select Category:</label>
                        <select id="rightCategoryUsed" name="rightCategoryUsed">
                            <option value="option1">Car</option>
                            <option value="option2">Motorcycle</option>
                            <option value="option3">Truck</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>

        <div class="right-container" id="newContainer" >
            <div class="by-options-container">
                <div class="option-container" >
                    <button class="toggle-option-button" id="byBrandNew">By Brand</button>
                    <button class="toggle-option-button" id="byBudgetNew">By Budget</button>
                    <div class="by-brand-options-new left-container-options" style="display: none;">
                        <label for="rightBrandNew">Select Brand:</label>
                        <select id="rightBrandNew" name="rightBrandNew">
                            <option value="brand1">Honda</option>
                            <option value="brand2">Mitsubishi</option>
                            <option value="brand3">Ferrari</option>
                        </select>
                        <label for="leftCategoryNew">Select Category:</label>
                        <select id="leftCategoryNew" name="leftCategoryNew">
                            <option value="option1">Car</option>
                            <option value="option2">Motorcycle</option>
                            <option value="option3">Trucks</option>
                        </select>
                    </div>
                    <div class="by-budget-options-new right-container-options" style="display: none;">
                        <label for="rightBudgetNew">Select Budget:</label>
                        <select id="rightBudgetNew" name="rightBudgetNew">
                            <option value="budget1">Economy Range</option>
                            <option value="budget2">Mid-Range</option>
                            <option value="budget3">Luxury Range</option>
                        </select>
                        <label for="rightCategoryNew">Select Category:</label>
                        <select id="rightCategoryNew" name="rightCategoryNew">
                            <option value="option1">Car</option>
                            <option value="option2">Motorcycle</option>
                            <option value="option3">Trucks</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>

        <button class="find-vehicle-button">Find Vehicle</button>


<script>
    const usedButton = document.getElementById('usedButton');
    const newButton = document.getElementById('newButton');
    const usedContainer = document.getElementById('usedContainer');
    const newContainer = document.getElementById('newContainer');
    const byBrandUsed = document.getElementById('byBrandUsed');
    const byBudgetUsed = document.getElementById('byBudgetUsed');
    const byBrandNew = document.getElementById('byBrandNew');
    const byBudgetNew = document.getElementById('byBudgetNew');
    const byBrandOptionsUsed = document.querySelector('.by-brand-options-used');
    const byBudgetOptionsUsed = document.querySelector('.by-budget-options-used');
    const byCategoryOptionsUsed = document.querySelector('.by-category-options-used');
    const byBrandOptionsNew = document.querySelector('.by-brand-options-new');
    const byBudgetOptionsNew = document.querySelector('.by-budget-options-new');
    const byCategoryOptionsNew = document.querySelector('.by-category-options-new');

    usedButton.addEventListener('click', () => {
        usedButton.classList.add('used');
        newButton.classList.remove('used');
        usedContainer.style.display = 'block';
        newContainer.style.display = 'none';
    });

    newButton.addEventListener('click', () => {
        newButton.classList.add('used');
        usedButton.classList.remove('used');
        newContainer.style.display = 'block';
        usedContainer.style.display = 'none';
    });

    byBrandUsed.addEventListener('click', () => {
        byBrandOptionsUsed.style.display = 'block';
        byBudgetOptionsUsed.style.display = 'none';
        byCategoryOptionsUsed.style.display = 'block';
        byBrandUsed.classList.add('active');
        byBudgetUsed.classList.remove('active');
    });

    byBudgetUsed.addEventListener('click', () => {
        byBrandOptionsUsed.style.display = 'none';
        byBudgetOptionsUsed.style.display = 'block';
        byCategoryOptionsUsed.style.display = 'block';
        byBrandUsed.classList.remove('active');
        byBudgetUsed.classList.add('active');
    });

    byBrandNew.addEventListener('click', () => {
        byBrandOptionsNew.style.display = 'block';
        byBudgetOptionsNew.style.display = 'none';
        byCategoryOptionsNew.style.display = 'block';
        byBrandNew.classList.add('active');
        byBudgetNew.classList.remove('active');
    });

    byBudgetNew.addEventListener('click', () => {
        byBrandOptionsNew.style.display = 'none';
        byBudgetOptionsNew.style.display = 'block';
        byCategoryOptionsNew.style.display = 'block';
        byBrandNew.classList.remove('active');
        byBudgetNew.classList.add('active');
    });
</script>
</section>

<!--------- Best Car Deals page --------->	

<section class="cardeals" id="cardeals">
    <div class="deals">
        <h1>Best Car Deals</h1>
    </div>
    <div class="title-container">
        <h1 class="title">LATEST CARS</h1>
        <h1 class="title">MOST POPULAR</h1>
        <h1 class="title">CHEAPEST</h1>
        <h1 class="title">USED CARS</h1>
    </div>
    <div class="photo-container">
        <img class="photo" src="CDphoto1.jpg" alt="Photo 1">
        <img class="photo" src="CDphoto2.jpg" alt="Photo 2">
        <img class="photo" src="CDphoto3.jpg" alt="Photo 3">
        <img class="photo" src="CDphoto4.jpg" alt="Photo 4">
    </div>
    <div class="button-container">
        <button class="details-button" onclick="showDetails(1)">Click for Details</button>
        <button class="details-button" onclick="showDetails(2)">Click for Details</button>
        <button class="details-button" onclick="showDetails(3)">Click for Details</button>
        <button class="details-button" onclick="showDetails(4)">Click for Details</button>
    </div>
		<div class="details-container" id="details-container1"></div>
		<div class="details-container" id="details-container2"></div>
		<div class="details-container" id="details-container3"></div>
		<div class="details-container" id="details-container4"></div>
	
    <div class="photo-container2">
        <img class="photo2" src="CDphoto5.jpg" alt="Photo 5">
        <img class="photo2" src="CDphoto6.jpg" alt="Photo 6">
        <img class="photo2" src="CDphoto7.jpg" alt="Photo 7">
        <img class="photo2" src="CDphoto8.jpg" alt="Photo 8">
    </div>
    <div class="button-container2">
        <button class="details-button2" onclick="showDetails(5)">Click for Details</button>
        <button class="details-button2" onclick="showDetails(6)">Click for Details</button>
        <button class="details-button2" onclick="showDetails(7)">Click for Details</button>
        <button class="details-button2" onclick="showDetails(8)">Click for Details</button>
    </div>
		<div class="details-container" id="details-container5"></div>
		<div class="details-container" id="details-container6"></div>
		<div class="details-container" id="details-container7"></div>
		<div class="details-container" id="details-container8"></div>

<script>
        var carData = [
    {
        brand: 'Toyota Camry',
        category: 'Sedan',
        price: 30000,
        specification: {
            dimensionAndWeight: 'Dimensions: 192" L x 72" W x 56" H, Weight: 3300 lbs',
            engine: '2.5L Inline-4',
            transmission: '8-speed automatic',
            exterior: 'Color: Blue',
            chassis: 'Front-wheel drive',
            others: 'Bluetooth, Backup camera'
        }
    },
    {
        brand: 'Honda Civic Type R',
        category: 'Hatchback',
        price: 35000,
        specification: {
            dimensionAndWeight: 'Dimensions: [Dimensions for Honda Civic Type R]',
            engine: '2.0L Turbocharged Inline-4',
            transmission: '6-speed manual',
            exterior: 'Color: [Exterior color for Honda Civic Type R]',
            chassis: 'Front-wheel drive',
            others: 'Sport-tuned suspension, Brembo brakes'
        }
    },
    {
        brand: 'Ford Mustang GT Premium Fastback',
        category: 'Coupe',
        price: 45000,
        specification: {
            dimensionAndWeight: 'Dimensions: [Dimensions for Ford Mustang GT Premium Fastback]',
            engine: '5.0L V8',
            transmission: '10-speed automatic',
            exterior: 'Color: [Exterior color for Ford Mustang GT Premium Fastback]',
            chassis: 'Rear-wheel drive',
            others: 'Leather seats, Apple CarPlay, Android Auto'
        }
    },
    {
        brand: 'Chevrolet Silverado 1500 LTZ Crew Cab',
        category: 'Truck',
        price: 50000,
        specification: {
            dimensionAndWeight: 'Dimensions: [Dimensions for Chevrolet Silverado 1500 LTZ Crew Cab]',
            engine: '5.3L V8',
            transmission: '10-speed automatic',
            exterior: 'Color: [Exterior color for Chevrolet Silverado 1500 LTZ Crew Cab]',
            chassis: 'Four-wheel drive',
            others: 'Towing package, Leather seats'
        }
    },
    {
        brand: 'Mitsubishi Outlander SEL',
        category: 'SUV',
        price: 35000,
        specification: {
            dimensionAndWeight: 'Dimensions: 185" L x 71" W x 68" H, Weight: 3600 lbs',
            engine: '2.5L Inline-4',
            transmission: 'CVT',
            exterior: 'Color: Gray',
            chassis: 'All-wheel drive',
            others: 'Third-row seating, Advanced safety features'
        }
    },
    {
        brand: 'Nissan Rogue SV',
        category: 'SUV',
        price: 30000,
        specification: {
            dimensionAndWeight: 'Dimensions: 184" L x 72" W x 68" H, Weight: 3400 lbs',
            engine: '2.5L Inline-4',
            transmission: 'CVT',
            exterior: 'Color: Silver',
            chassis: 'Front-wheel drive',
            others: 'Panoramic sunroof, NissanConnect infotainment'
        }
    },
    {
        brand: 'Hyundai Sonata Sedan',
        category: 'Sedan',
        price: 28000,
        specification: {
            dimensionAndWeight: 'Dimensions: 192" L x 73" W x 56" H, Weight: 3100 lbs',
            engine: '2.5L Inline-4',
            transmission: '8-speed automatic',
            exterior: 'Color: White',
            chassis: 'Front-wheel drive',
            others: 'SmartSense safety suite, Touchscreen infotainment'
        }
    },
    {
        brand: 'Isuzu D-Max',
        category: 'Pickup',
        price: 35000,
        specification: {
            dimensionAndWeight: 'Dimensions: 210" L x 75" W x 72" H, Weight: 4800 lbs',
            engine: '3.0L Turbocharged Diesel Inline-4',
            transmission: '6-speed automatic',
            exterior: 'Color: Red',
            chassis: 'Four-wheel drive',
            others: 'Off-road package, Bedliner'
        }
    }
]

	
function hideDetails(photoNumber) {
    var detailsContainer = document.getElementById('details-container' + photoNumber);
    detailsContainer.classList.remove('show');
}

function showDetails(photoNumber) {
    if (photoNumber >= 1 && photoNumber <= carData.length) {
        var carDetails = carData[photoNumber - 1];
        var detailsContainer = document.getElementById('details-container' + photoNumber);

        if (!detailsContainer) {
            detailsContainer = document.createElement('div');
            detailsContainer.id = 'details-container' + photoNumber;
            detailsContainer.classList.add('details-container');
            document.body.appendChild(detailsContainer);
        }

        var detailsContent = `
            <div class="details show">
                <p><strong>Brand:</strong> ${carDetails.brand}</p>
                <p><strong>Category:</strong> ${carDetails.category}</p>
                <p><strong>Price:</strong> $${carDetails.price}</p>
                <p><strong>Specification:</strong></p>
                <ul>
                    <li>${carDetails.specification.dimensionAndWeight}</li>
                    <li>${carDetails.specification.engine}</li>
                    <li>${carDetails.specification.transmission}</li>
                    <li>${carDetails.specification.exterior}</li>
                    <li>${carDetails.specification.chassis}</li>
                    <li>${carDetails.specification.others}</li>
                </ul>
                <button class="add-to-cart-button">Add to Cart</button>
                <button class="add-to-favorites-button">Add to Favorites</button>
                <button class="close-button" onclick="hideDetails(${photoNumber})">x</button>
            </div>
        `;

        detailsContainer.innerHTML = detailsContent;
        detailsContainer.classList.add('show');

        var button = document.getElementById('show-details-button' + photoNumber);
        var rect = button.getBoundingClientRect();

        detailsContainer.style.top = rect.bottom + 'px';
        detailsContainer.style.left = rect.left + 'px';
    } else {
        alert("Invalid photo number. Please try again.");
    }
}
    </script>


    </section>
	
<!--------- LogIn or SignUp --------->

<div id="loginModal" class="modal">
    <div class="modal-content">
        <span class="close" onclick="closeLoginModal()">&times;</span>

        <div class="big-icon">
            <img src="sia/nexuscon.png" alt="Nexus Icon">
        </div>

        <div class="title-container">
            <div class="title-big">NEXUS</div>
            <div class="title-small">MANUFACTURE</div> 
            <div class="tagline">Pioneering Excellence, Powering Journeys</div>
        </div> 

        <form id="loginForm" class="login-field">
            <div class="input-container">
				<label class="username-label" for="email">Email:</label>
				<input class="username-field" type="text" id="email" name="email" required>
			</div>

            <div class="input-container">
                <label class="password-label" for="password">Password:</label>
                <input class="password-field" type="password" id="password" name="password" required>
            </div>
            
			<div id="loginAlertContainer"></div>
			
            <button type="button" onclick="login()">Login</button>

            <div class="signup-link" onclick="openSignupModal()">Sign Up / Register</div>
			
			<div id="loginAlertContainer"></div>
        </form>
    </div>
</div>

<!-- Signup Modal -->
<div id="signupModal" class="modal">
    <div class="modal-content">
        <span class="close" onclick="closeSignupModal()">&times;</span>

        <div class="title">Create Your Account Today</div>

        <div class="input-container">
            <input type="text" id="signupUsername" name="signupUsername" required>
            <label for="signupUsername">Your Username:</label>
        </div>

        <div class="input-container">
            <input type="text" id="signupEmail" name="signupEmail" required>
            <label for="signupEmail">Your E-mail:</label>
        </div>

        <div class="input-container">
            <input type="password" id="signupPassword" name="signupPassword" required>
            <label for="signupPassword">Your Password:</label>
        </div>

        <div class="input-container">
            <input type="password" id="confirmPassword" name="confirmPassword" required>
            <label for="confirmPassword">Confirm Password:</label>
        </div>
		
		<div id="signupAlertContainer"></div>

        <button type="button" onclick="register()">Register</button>
		
		<!-- Add a message for existing users -->
        <p class="signup-message">Already have an account? <span class="signin-link"
                    onclick="openLoginModal()">Sign In.</span>.</p>
					
    </div>
</div>

<script>
	document.getElementById('loginModal').style.display = 'none';
    document.getElementById('signupModal').style.display = 'none';
	
	function displayAlert(message, alertContainerId, isSuccess = false) {
        const alertDiv = document.createElement('div');
        alertDiv.className = isSuccess ? 'alert success' : 'alert';
        alertDiv.innerHTML = message;

        // Get the alert container by ID
        const alertContainer = document.getElementById(alertContainerId);
        
        // Add the alert to the specified container
        alertContainer.innerHTML = ''; // Clear previous alerts
        alertContainer.appendChild(alertDiv);

        // Remove the alert after 3 seconds (adjust the time as needed)
        setTimeout(() => {
            alertDiv.remove();
        }, 3000);
    }
	
function login() {
    const email = document.getElementById('email').value;
    const password = document.getElementById('password').value;

    fetch('http://localhost/homepage/login.php', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/x-www-form-urlencoded',
        },
        body: `email=${encodeURIComponent(email)}&password=${encodeURIComponent(password)}`,
    })
    .then(response => {
        if (!response.ok) {
            throw new Error('Network response was not ok');
        }
        return response.text(); // Assuming the response is plain text
    })
    .then(data => {
        if (data === 'Login successful') {
            displayAlert('Login successful!', 'loginAlertContainer', true);
            // Add any further logic for a successful login
        } else {
            displayAlert('Error: ' + data, 'loginAlertContainer');
            // Handle other error cases, e.g., invalid email or password
        }
    })
    .catch(error => {
        console.error('Fetch error:', error);
        // Handle the error, e.g., display an error message to the user
        displayAlert('Unable to connect to the server. Please try again later.', 'loginAlertContainer');
    });
}


// Add this function if not present
function displayAlert(message, containerId, success = false) {
    const alertContainer = document.getElementById(containerId);
    const alertClass = success ? 'alert-success' : 'alert-danger';

    const alert = document.createElement('div');
    alert.className = `alert ${alertClass}`;
    alert.textContent = message;

    alertContainer.innerHTML = '';
    alertContainer.appendChild(alert);
}

// Modify the existing register function
function register() {
    const signupUsername = document.getElementById('signupUsername').value;
    const signupEmail = document.getElementById('signupEmail').value;
    const signupPassword = document.getElementById('signupPassword').value;
    const confirmPassword = document.getElementById('confirmPassword').value;

    // Check if email is blank
    if (!signupEmail.trim()) {
        displayAlert('Email cannot be blank. Please provide a valid email.', 'signupAlertContainer');
        return;
    }

    // Check if passwords match
    if (signupPassword !== confirmPassword) {
        displayAlert('Password and Confirm Password must match.', 'signupAlertContainer');
        return;
    }

    // Use AJAX to send data to signup.php
    const xhr = new XMLHttpRequest();
    xhr.onreadystatechange = function () {
        if (xhr.readyState === 4) {
            if (xhr.status === 200) {
                // Handle the response from signup.php
                const response = xhr.responseText;

                if (response === 'success') {
                    displayAlert('Registration successful! You can now log in.', 'signupAlertContainer', true);
                    showLogin();
                } else if (response === 'email_taken') {
                    displayAlert('Email is already taken. Please choose another.', 'signupAlertContainer');
                } else {
                    displayAlert('Registration failed. Please try again.', 'signupAlertContainer');
                }
            } else {
                // Handle any HTTP error
                displayAlert('Error connecting to the server. Please try again later.', 'signupAlertContainer');
            }
        }
    };

    xhr.open('POST', 'http://localhost/homepage/signup.php', true);
    xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');

    // Send the data to the server
    const postData = `signupUsername=${encodeURIComponent(signupUsername)}&signupEmail=${encodeURIComponent(signupEmail)}&signupPassword=${encodeURIComponent(signupPassword)}&confirmPassword=${encodeURIComponent(confirmPassword)}`;
    xhr.send(postData);
}

function displayAlert(message, containerId, success = false) {
    const container = document.getElementById(containerId);
    container.innerHTML = message;
    container.style.display = 'block';
    container.className = success ? 'success' : 'error';

    setTimeout(function () {
        container.style.display = 'none';
    }, 5000);
}

</script>

<script>
    const body = document.body;
    const loginModal = document.getElementById('loginModal');
    const signupModal = document.getElementById('signupModal');
    const topnavLink = document.querySelector('.topnav a');

    function openLoginModal() {
        loginModal.style.display = 'flex';
        signupModal.style.display = 'none';
        body.classList.add('modal-open');
    }

    function closeLoginModal() {
        loginModal.style.display = 'none';
        body.classList.remove('modal-open');
    }

    function openSignupModal() {
        signupModal.style.display = 'flex';
        loginModal.style.display = 'none';
        body.classList.add('modal-open');
    }

    function closeSignupModal() {
        signupModal.style.display = 'none';
        body.classList.remove('modal-open');
    }

    // Initially hide the login form
    loginModal.style.display = 'none';

    // Attach event listener to topnav link
    topnavLink.addEventListener('click', function () {
        openLoginModal();
    });
</script>

<!--------- Bottom Navigation --------->

<div class="botnav">
    <div><a href="#">About Us</a></div>
    <div><a href="#overview">Overview</a></div>
    <div><a href="#">Contact Us</a></div>
    <div><a href="#">Career</a></div>
    <div><a href="#">Privacy Policy</a></div>
    <div><a href="#">Terms and Conditions</a></div>
</div>

<div class="secbotnav">
    <div><a href="#">Copyright © 2023 NexusManufacture. All Rights Reserved</a></div>
</div>

</body>
</html>